<!-- Results Section -->
{{ block "results-list" . }}
<div id="grid-container" class="pt-10 pr-10 grid grid-cols-[1fr_3fr] bg-white w-full">
    {{ template "sidecolumn" . }}
    {{ template "results-container" . }}
</div>
<!-- This is swapped in to replace the input OOB to update the contents of the input when a suggestion is clicked-->
<input 
id="searchquery"
autocomplete="off"
class="w-full px-6 py-3 text-2xl border-2 border-blue-500 rounded-full shadow-md focus:ring-2 focus:ring-blue-400 focus:outline-none transition-all duration-200"
type="text" 
name="query"
hx-post="/search/suggestions"
hx-trigger="input changed delay:250ms"
hx-target="#suggestions"
hx-swap="innerHTML"
hx-swap-oob="true"
value="{{ .Query }}">

<!--This is swapped in to clear the contents of the suggestions dropdown when a suggestion is clicked-->
<div id="suggestions" hx-swap-oob="true" class="absolute z-10 w-full mt-1 bg-white border border-gray-300 shadow-lg hidden"></div>
{{end}}

{{ define "results-container" }}
<div id="results-content-container" class="space-y-6">
    {{ range .Results }}
    {{ template "result-card" . }}
    {{ end }}
</div>
{{ end }}

<!-- Individual Result Partial -->
{{ define "result-card" }}
<div class="p-4 bg-white border rounded-md shadow-md">
    <a href="{{ .Link }}#page={{ .PageNum }}" target="_blank" rel="noopener noreferrer" class="text-lg font-semibold underline">
        {{ .Title }}
    </a>
    <p class="text-gray-600">{{ .Excerpt }}</p>
</div>
{{end}}

